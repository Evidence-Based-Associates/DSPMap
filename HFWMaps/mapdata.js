var simplemaps_statemap_mapdata={
  main_settings: {
   //General settings
    width: "700", //'700' or 'responsive'
    background_color: "#FFFFFF",
    background_transparent: "yes",
    border_color: "#ffffff",
    popups: "detect",
    state_description: "",
    state_color: "#88A4BC",
    state_hover_color: "off",
    state_url: "",
    border_size: 1.5,
    all_states_inactive: "no",
    all_states_zoomable: "no",
    location_description: "",
    location_color: "#00fff2",
    location_opacity: 0.8,
    location_hover_opacity: 1,
    location_url: "",
    location_size: 25,
    location_type: "circle",
    location_border_color: "#FFFFFF",
    location_border: 2,
    location_hover_border: 2.5,
    all_locations_inactive: "no",
    all_locations_hidden: "no",
    
    //Label defaults
    label_color: "#d5ddec",
    label_hover_color: "#d5ddec",
    label_size: 22,
    label_font: "Arial",
    hide_labels: "no",
    manual_zoom: "no",
    back_image: "no",
    arrow_color: "#cecece",
    arrow_color_border: "#808080",
    initial_back: "no",
    initial_zoom: -1,
    initial_zoom_solo: "no",
    region_opacity: 1,
    region_hover_opacity: 0.6,
    zoom_out_incrementally: "yes",
    zoom_percentage: 0.99,
    zoom_time: 0.5,
    
    //Popup settings
    popup_color: "white",
    popup_opacity: 0.9,
    popup_shadow: 1,
    popup_corners: 5,
    popup_font: "12px/1.5 Verdana, Arial, Helvetica, sans-serif",
    popup_nocss: "no",
    
    //Advanced settings
    div: "map",
    auto_load: "yes",
    rotate: "0",
    url_new_tab: "no",
    images_directory: "default",
    fade_time: 0.1,
    link_text: "View Website",
    state_image_url: "",
    state_image_position: "",
    location_image_url: ""
  },
  state_specific: {
    "51001": {
      name: "Accomack"
    },
    "51003": {
      name: "Albemarle"
    },
    "51005": {
      name: "Alleghany"
    },
    "51007": {
      name: "Amelia"
    },
    "51009": {
      name: "Amherst"
    },
    "51011": {
      name: "Appomattox"
    },
    "51013": {
      name: "Arlington"
    },
    "51015": {
      name: "Augusta"
    },
    "51017": {
      name: "Bath"
    },
    "51019": {
      name: "Bedford"
    },
    "51021": {
      name: "Bland"
    },
    "51023": {
      name: "Botetourt"
    },
    "51025": {
      name: "Brunswick"
    },
    "51027": {
      name: "Buchanan"
    },
    "51029": {
      name: "Buckingham"
    },
    "51031": {
      name: "Campbell"
    },
    "51033": {
      name: "Caroline"
    },
    "51035": {
      name: "Carroll"
    },
    "51036": {
      name: "Charles City"
    },
    "51037": {
      name: "Charlotte"
    },
    "51041": {
      name: "Chesterfield"
    },
    "51043": {
      name: "Clarke"
    },
    "51045": {
      name: "Craig"
    },
    "51047": {
      name: "Culpeper"
    },
    "51049": {
      name: "Cumberland"
    },
    "51051": {
      name: "Dickenson"
    },
    "51053": {
      name: "Dinwiddie"
    },
    "51057": {
      name: "Essex"
    },
    "51059": {
      name: "Fairfax"
    },
    "51061": {
      name: "Fauquier"
    },
    "51063": {
      name: "Floyd"
    },
    "51065": {
      name: "Fluvanna"
    },
    "51067": {
      name: "Franklin"
    },
    "51069": {
      name: "Frederick"
    },
    "51071": {
      name: "Giles"
    },
    "51073": {
      name: "Gloucester"
    },
    "51075": {
      name: "Goochland"
    },
    "51077": {
      name: "Grayson"
    },
    "51079": {
      name: "Greene"
    },
    "51081": {
      name: "Greensville"
    },
    "51083": {
      name: "Halifax"
    },
    "51085": {
      name: "Hanover"
    },
    "51087": {
      name: "Henrico"
    },
    "51089": {
      name: "Henry"
    },
    "51091": {
      name: "Highland"
    },
    "51093": {
      name: "Isle of Wight"
    },
    "51095": {
      name: "James City"
    },
    "51097": {
      name: "King and Queen"
    },
    "51099": {
      name: "King George"
    },
    "51101": {
      name: "King William"
    },
    "51103": {
      name: "Lancaster"
    },
    "51105": {
      name: "Lee"
    },
    "51107": {
      name: "Loudoun"
    },
    "51109": {
      name: "Louisa"
    },
    "51111": {
      name: "Lunenburg"
    },
    "51113": {
      name: "Madison"
    },
    "51115": {
      name: "Mathews"
    },
    "51117": {
      name: "Mecklenburg"
    },
    "51119": {
      name: "Middlesex"
    },
    "51121": {
      name: "Montgomery"
    },
    "51125": {
      name: "Nelson"
    },
    "51127": {
      name: "New Kent"
    },
    "51131": {
      name: "Northampton"
    },
    "51133": {
      name: "Northumberland"
    },
    "51135": {
      name: "Nottoway"
    },
    "51137": {
      name: "Orange"
    },
    "51139": {
      name: "Page"
    },
    "51141": {
      name: "Patrick"
    },
    "51143": {
      name: "Pittsylvania"
    },
    "51145": {
      name: "Powhatan"
    },
    "51147": {
      name: "Prince Edward"
    },
    "51149": {
      name: "Prince George"
    },
    "51153": {
      name: "Prince William"
    },
    "51155": {
      name: "Pulaski"
    },
    "51157": {
      name: "Rappahannock"
    },
    "51159": {
      name: "Richmond"
    },
    "51161": {
      name: "Roanoke"
    },
    "51163": {
      name: "Rockbridge"
    },
    "51165": {
      name: "Rockingham"
    },
    "51167": {
      name: "Russell"
    },
    "51169": {
      name: "Scott"
    },
    "51171": {
      name: "Shenandoah"
    },
    "51173": {
      name: "Smyth"
    },
    "51175": {
      name: "Southampton"
    },
    "51177": {
      name: "Spotsylvania"
    },
    "51179": {
      name: "Stafford"
    },
    "51181": {
      name: "Surry"
    },
    "51183": {
      name: "Sussex"
    },
    "51185": {
      name: "Tazewell"
    },
    "51187": {
      name: "Warren"
    },
    "51191": {
      name: "Washington"
    },
    "51193": {
      name: "Westmoreland"
    },
    "51195": {
      name: "Wise"
    },
    "51197": {
      name: "Wythe"
    },
    "51199": {
      name: "York"
    },
    "51510": {
      name: "Alexandria"
    },
    "51520": {
      name: "Bristol"
    },
    "51530": {
      name: "Buena Vista"
    },
    "51540": {
      name: "Charlottesville"
    },
    "51550": {
      name: "Chesapeake"
    },
    "51570": {
      name: "Colonial Heights"
    },
    "51580": {
      name: "Covington"
    },
    "51590": {
      name: "Danville"
    },
    "51595": {
      name: "Emporia"
    },
    "51600": {
      name: "Fairfax"
    },
    "51610": {
      name: "Falls Church"
    },
    "51620": {
      name: "Franklin"
    },
    "51630": {
      name: "Fredericksburg"
    },
    "51640": {
      name: "Galax"
    },
    "51650": {
      name: "Hampton"
    },
    "51660": {
      name: "Harrisonburg"
    },
    "51670": {
      name: "Hopewell"
    },
    "51678": {
      name: "Lexington"
    },
    "51680": {
      name: "Lynchburg"
    },
    "51683": {
      name: "Manassas"
    },
    "51685": {
      name: "Manassas Park"
    },
    "51690": {
      name: "Martinsville"
    },
    "51700": {
      name: "Newport News"
    },
    "51710": {
      name: "Norfolk"
    },
    "51720": {
      name: "Norton"
    },
    "51730": {
      name: "Petersburg"
    },
    "51735": {
      name: "Poquoson"
    },
    "51740": {
      name: "Portsmouth"
    },
    "51750": {
      name: "Radford"
    },
    "51760": {
      name: "Richmond"
    },
    "51770": {
      name: "Roanoke"
    },
    "51775": {
      name: "Salem"
    },
    "51790": {
      name: "Staunton"
    },
    "51800": {
      name: "Suffolk"
    },
    "51810": {
      name: "Virginia Beach"
    },
    "51820": {
      name: "Waynesboro"
    },
    "51830": {
      name: "Williamsburg"
    },
    "51840": {
      name: "Winchester"
    }
  },
  locations: {
    "0": {
      lat: 37.804,
      lng: -79.425,
      name: "Rockbridge CSB",
      description: "241 Greenhouse Road<br>Lexington, VA 24450"
    },
    "1": {
      lat: 38.806,
      lng: -77.167,
      name: "UMFS",
      description: "5400 Shawnee Road<br>Alexandria VA 22312"
    },
    "2": {
      lat: 39.026,
      lng: -77.408,
      name: "Wraparound Loudoun",
      description: "21641 Ridgetop Circle, Suite 210<br>Sterling, VA 20166"
    },
    "3": {
      lat: 37.26,
      lng: -79.944,
      name: "Extra Special Parents",
      description: "1344 Maple Ave.<br>Roanoke, VA 24016"
    },
    "4": {
      lat: 36.728,
      lng: -76.585,
      name: "Western Tidewater Community Services Board",
      description: "135 South Saratoga Street<br>Suffolk, Virginia 23434."
    },
    "5": {
      lat: 39.059,
      lng: -77.452,
      name: "The Resilience Network",
      description: "20130 Lakeview Center Plaza, Ste. 400<br>Ashburn, VA 20147"
    },
    "6": {
      lat: 38.455,
      lng: -78.854,
      name: "Harrisonburg Rockingham Community Services Board",
      description: "463 East Washington St.<br>Harrisonburg, VA 22802"
    },
    "7": {
      lat: 39.165,
      lng: -78.174,
      name: "Winchester Community Mental Health Clinic",
      description: "36 Ricketts Dr<br>Winchester, VA 22601"
    },
    "8": {
      lat: 36.844,
      lng: -76.137,
      name: "City of Virginia Beach Child and Youth Services",
      description: "297 Independence Blvd.<br>Virginia Beach, VA 23462"
    },
    "9": {
      lat: 36.62,
      lng: -81.152,
      name: "Mount Rogers CSB",
      description: "108 Bedwell St.<br>Independence, VA 24348"
    },
    "10": {
      lat: 36.701,
      lng: -80.851,
      name: "Mount Rogers CSB",
      description: "6999 Carrollton Pike, Suite 2<br>Galax, VA 24333"
    },
    "11": {
      lat: 36.947,
      lng: -81.088,
      name: "Mount Rogers CSB",
      description: "540 W. Main Street<br>Wytheville, VA 24382"
    },
    "12": {
      lat: 36.834,
      lng: -81.518,
      name: "Mount Rogers CSB",
      description: "121 Broad Street<br>Marion, Va. 24354"
    },
    "13": {
      lat: 37.302,
      lng: -78.389,
      name: "UMFS",
      description: "306 E Third Street<br>Farmville, VA 23901"
    },
    "14": {
      lat: 37.285,
      lng: -76.688,
      name: "Colonial Behavioral Health",
      description: "921 Capitol Landing Road<br>Williamsburg, VA 23185"
    },
    "15": {
      lat: 36.887,
      lng: -76.179,
      name: "UMFS",
      description: "1300 Diamond Springs Rd<br>Virginia Beach, VA"
    },
    "16": {
      lat: 37.002,
      lng: -79.882,
      name: "Youth Connect",
      description: "370 Tanyard Road<br>Rocky Mount, VA 24151"
    },
    "17": {
      lat: 38.833,
      lng: -77.122,
      name: "City of Alexandria Department of Community and Human Services",
      description: "1900 N Beauregard St., Suite 200<br>Alexandria, VA"
    },
    "18": {
      lat: 38.806,
      lng: -77.167,
      name: "UMFS",
      description: "5400 Shawnee Road, Suite 303<br>Alexandria, VA 22312"
    },
    "19": {
      lat: 38.843,
      lng: -77.415,
      name: "UMFS",
      description: "13525 Leland Road, Centreville, VA 20120"
    },
    "20": {
      lat: 39.165,
      lng: -78.174,
      name: "SPARKLE Family Support Partner",
      description: "36 Ricketts Drive<br>Winchester, Virginia"
    },
    "21": {
      lat: 36.912,
      lng: -76.248,
      name: "Compass Youth and Family Services",
      description: "7460 Central Business Park Drive<br>Norfolk, VA 23513"
    },
    "22": {
      lat: 38.127,
      lng: -79.03,
      name: "Valley Community Services Board",
      description: "85 Sangers Lane<br>Staunton, VA 24401"
    },
    "23": {
      lat: 36.691,
      lng: -79.867,
      name: "Piedmont Community Services",
      description: "24 Clay Street<br>Martinsville, VA 24121"
    },
    "24": {
      lat: 37.057,
      lng: -79.881,
      name: "Piedmont Community Services",
      description: "30 Tech Drive<br>Rocky Mount, VA 24151"
    },
    "25": {
      lat: 37.572,
      lng: -77.481,
      name: "UMFS",
      description: "3900 West Broad Street<br>Richmond, VA"
    },
    "26": {
      lat: 36.587,
      lng: -79.39,
      name: "LifePush",
      description: "308 Craghead St.<br>Danville, VA"
    },
    "27": {
      lat: 37.233,
      lng: -80.431,
      name: "New River Valley Community Services",
      description: "700 University City Blvd.<br>Blacksburg, VA. 24060"
    },
    "28": {
      lat: 37.134,
      lng: -80.578,
      name: "New River Valley Community Services",
      description: "401 W. Main St.<br>Radford, VA. 24141"
    },
    "29": {
      lat: 37.049,
      lng: -80.78,
      name: "New River Valley Community Services",
      description: "327 N. Washington Ave.<br>Pulaski, VA. 24301"
    },
    "30": {
      lat: 36.919,
      lng: -80.325,
      name: "New River Valley Community Services",
      description: "260 Webbs Mill Rd.<br>Floyd, VA. 24091"
    },
    "31": {
      lat: 37.328,
      lng: -80.732,
      name: "New River Valley Community Services",
      description: "705 Wenonah Ave.<br>Pearisburg, VA. 24134"
    },
    "32": {
      lat: 37.607,
      lng: -76.593,
      name: "Middle Peninsula Northern Neck Community Services Board",
      description: "129 Bowden Street<br>Saluda, VA 23149"
    },
    "33": {
      lat: 37.964,
      lng: -76.755,
      name: "Middle Peninsula Northern Neck Community Services Board",
      description: "414 Main Street<br>Warsaw, VA 22572"
    },
    "34": {
      lat: 37.434,
      lng: -76.569,
      name: "Middle Peninsula Northern Neck Community Services Board",
      description: "9228 George Washington Memorial Hwy<br>Gloucester, VA 23061"
    },
    "35": {
      lat: 38.008,
      lng: -78.52,
      name: "Region Ten Community Services Board",
      description: "500 Old Lynchburg Road<br>Charlottesville, VA 22903"
    }
  },
  labels: {},
  regions: {"0": {
    states: [
      "51171",
      "51069",
      "51840",
      "51043",
      "51187",
      "51139",
      "51165",
      "51660",
      "51163",
      "51530",
      "51790",
      "51015",
      "51820",
      "51091",
      "51580",
      "51005",
      "51017",
      "51678",
      "51019",
      "51031",
      "51680",
      "51009",
      "51011",
      "51540",
      "51003",
      "51065",
      "51079",
      "51109",
      "51125",
      "51113",
      "51157",
      "51047",
      "51137",
      "51177",
      "51033",
      "51099",
      "51179",
      "51630",
      "51061"
    ],
    name: "Region 1"
  },
  "1": {
    states: [
      "51107",
      "51059",
      "51600",
      "51013",
      "51610",
      "51510",
      "51153",
      "51683",
      "51685"
    ],
    name: "Region 2"
  },
  "2": {
    states: [
      "51025",
      "51117",
      "51083",
      "51143",
      "51590",
      "51089",
      "51690",
      "51141",
      "51035",
      "51640",
      "51077",
      "51173",
      "51191",
      "51520",
      "51169",
      "51105",
      "51195",
      "51720",
      "51051",
      "51027",
      "51167",
      "51185",
      "51197",
      "51021",
      "51155",
      "51071",
      "51121",
      "51750",
      "51063",
      "51067",
      "51165",
      "51770",
      "51775",
      "51161",
      "51045",
      "51023"
    ],
    name: "Region 3"
  },
  "3": {
    states: [
      "51037",
      "51111",
      "51147",
      "51029",
      "51049",
      "51075",
      "51145",
      "51085",
      "51127",
      "51135",
      "51007",
      "51087",
      "51760",
      "51041",
      "51036",
      "51053",
      "51730",
      "51570",
      "51670",
      "51053",
      "51081",
      "51149",
      "51181",
      "51183",
      "51595"
    ],
    name: "Region 4"
  },
  "4": {
    states: [
      "51740",
      "51093",
      "51101",
      "51095",
      "51620",
      "51800",
      "51093",
      "51175",
      "51550",
      "51810",
      "51710",
      "51700",
      "51650",
      "51095",
      "51735",
      "51830",
      "51199",
      "51057",
      "51073",
      "51097",
      "51103",
      "51115",
      "51119",
      "51133",
      "51159",
      "51193",
      "51001",
      "51131"
    ],
    name: "Region 5"
  }},
  data: {
    data: {}
  }
};

var thisMap = simplemaps_statemap_mapdata;
const heatMapColors = {
  set1: {
    "1": "#2A8A00",
    "2": "#439F00",
    "3": "#5CB400",
    "4": "#75CA00",
    "5": "#8EDF00",
    "6": "#A8F500"
  }
};


